        <div [class.border-red-500]="formControl()?.errors ?? false"
          class="border-2 border-dashed border-gray-300 rounded-md p-6 text-center relative hover:border-gray-400"
          [class.bg-purple-50]="isDragOver()" (dragover)="onDragOver($event)" (dragleave)="onDragLeave($event)"
          (drop)="onDrop($event)">
          <!-- Vista previa -->
          <div *ngIf="previewImage()" class="mb-4 relative">
            <img [src]="previewImage()" alt="Preview" class="max-h-40 mx-auto rounded-md" />
            <!-- BotÃ³n eliminar en la esquina superior derecha -->
            <button type="button" (click)="clearImage()" aria-label="Remove image" title="Remove image"
              class="absolute top-1 right-1 bg-gray-300 hover:bg-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:ring-offset-0 text-gray-700 rounded-full w-5 h-5 flex items-center justify-center transition-colors duration-150">
             <div class="mb-4"><div class="relative w-16 h-16"><svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-full" aria-label="Upload illustration"><title>Upload File Illustration</title><circle cx="50" cy="50" r="45" class="stroke-gray-200 dark:stroke-gray-700" stroke-width="2" stroke-dasharray="4 4"><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="360 50 50" dur="60s" repeatCount="indefinite"></animateTransform></circle><path d="M30 35H70C75 35 75 40 75 40V65C75 70 70 70 70 70H30C25 70 25 65 25 65V40C25 35 30 35 30 35Z" class="fill-blue-100 dark:fill-blue-900/30 stroke-blue-500 dark:stroke-blue-400" stroke-width="2"><animate attributeName="d" dur="2s" repeatCount="indefinite" values=" M30 35H70C75 35 75 40 75 40V65C75 70 70 70 70 70H30C25 70 25 65 25 65V40C25 35 30 35 30 35Z; M30 38H70C75 38 75 43 75 43V68C75 73 70 73 70 73H30C25 73 25 68 25 68V43C25 38 30 38 30 38Z; M30 35H70C75 35 75 40 75 40V65C75 70 70 70 70 70H30C25 70 25 65 25 65V40C25 35 30 35 30 35Z"></animate></path><path d="M30 35C30 35 35 35 40 35C45 35 45 30 50 30C55 30 55 35 60 35C65 35 70 35 70 35" class="stroke-blue-500 dark:stroke-blue-400" stroke-width="2" fill="none"></path><g class="transform translate-y-2"><line x1="50" y1="45" x2="50" y2="60" class="stroke-blue-500 dark:stroke-blue-400" stroke-width="2" stroke-linecap="round"><animate attributeName="y2" values="60;55;60" dur="2s" repeatCount="indefinite"></animate></line><polyline points="42,52 50,45 58,52" class="stroke-blue-500 dark:stroke-blue-400" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"><animate attributeName="points" values="42,52 50,45 58,52;42,47 50,40 58,47;42,52 50,45 58,52" dur="2s" repeatCount="indefinite"></animate></polyline></g></svg></div></div>
            </button>


          </div>
 
          <!-- Sin imagen -->
          <div *ngIf="!previewImage()" class="space-y-2">
            <button type="button"
              class="mt-4 mx-auto flex items-center justify-center w-12 h-12 rounded-full bg-purple-100 text-primary relative"
              (click)="fileInput.click()" aria-label="Choose file" title="Choose file">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="currentColor"
                class="w-6 h-6">
                <path
                  d="M2.75 14A1.75 1.75 0 0 1 1 12.25v-2.5a.75.75 0 0 1 1.5 0v2.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 1.5 0v2.5A1.75 1.75 0 0 1 13.25 14Z" />
                <path
                  d="M11.78 4.72a.749.749 0 1 1-1.06 1.06L8.75 3.811V9.5a.75.75 0 0 1-1.5 0V3.811L5.28 5.78a.749.749 0 1 1-1.06-1.06l3.25-3.25a.75.75 0 0 1 1.06 0z" />
              </svg>
            </button>

            <p class="text-sm text-gray-500">
              Drag an image or <span class="text-primary font-medium">browse</span>
            </p>
            <p class="text-xs text-gray-400">JPG, JPEG, PNG or GIF(max. 2MB)</p>
          </div>

          <!-- Input oculto -->
          <input #fileInput type="file" accept="image/*" class="hidden" (change)="onFilesChanged($event)" />
        </div>
